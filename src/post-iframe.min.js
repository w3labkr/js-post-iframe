(function(){function e(e){e=e||{};var t=e.element||e.selector&&document.querySelector(e.selector);t?e.src||e.srcdoc?(t._instance&&(t._instance=null),this.element=t,this.src=e.src,this.srcdoc=e.srcdoc||"",this.sandbox=e.sandbox||"allow-forms allow-scripts allow-same-origin",this.onComplete="function"==typeof e.onComplete?e.onComplete:null,this.onStart="function"==typeof e.onStart?e.onStart:null,this.postMessageMessage=e.postMessageMessage||{type:"referrer",referrer:window.location.origin+window.location.pathname},this.postMessageTargetOrigin=e.postMessageTargetOrigin||window.location.origin,t._instance=this,this.initialize()):console.error('PostIframe: Either the "src" or "srcdoc" option is required.'):console.error('PostIframe: A valid element must be provided using the "element" or "selector" option.')}e.prototype.initialize=function(){var e=this,t=this.element;e.onStart&&e.onStart(t),t.onload=null;var o=function(){e.src&&t.contentWindow&&t.contentWindow.postMessage(e.postMessageMessage,e.postMessageTargetOrigin),e.onComplete&&e.onComplete(t),t.removeEventListener("load",o)};if(t.addEventListener("load",o),""!==this.srcdoc)t.removeAttribute("src"),t.srcdoc=this.srcdoc;else if(this.src){t.removeAttribute("srcdoc"),"*"===this.sandbox?t.removeAttribute("sandbox"):t.setAttribute("sandbox",this.sandbox);var s=-1!==this.src.indexOf("?")?"&":"?";t.src=this.src+s+"ver="+Date.now()}},window.PostIframe=e})();
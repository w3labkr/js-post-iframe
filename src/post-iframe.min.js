!function(){function e(e){var s=(e=e||{}).element||e.selector&&document.querySelector(e.selector);if(!s){console.error('PostIframe: A valid element must be provided using the "element" or "selector" option.');return}if(!e.src&&!e.srcdoc){console.error('PostIframe: Either the "src" or "srcdoc" option is required.');return}s._instance&&(s._instance=null),this.element=s,this.src=e.src,this.srcdoc=e.srcdoc||"",this.sandbox=e.sandbox||"allow-forms allow-scripts allow-same-origin",this.onLoaded="function"==typeof e.onLoaded?e.onLoaded:null,this.postMessageMessage=e.postMessageMessage||{type:"referrer",referrer:window.location.origin+window.location.pathname},this.postMessageTargetOrigin=e.postMessageTargetOrigin||window.location.origin,s._instance=this,this.initialize()}e.prototype.initialize=function(){var e=this,s=this.element;s.onload=null;var t=function(){e.src&&s.contentWindow&&s.contentWindow.postMessage(e.postMessageMessage,e.postMessageTargetOrigin),e.onLoaded&&e.onLoaded(s),s.removeEventListener("load",t)};if(s.addEventListener("load",t),""!==this.srcdoc)s.removeAttribute("src"),s.srcdoc=this.srcdoc;else if(this.src){s.removeAttribute("srcdoc"),s.setAttribute("sandbox",this.sandbox);var o=-1!==this.src.indexOf("?")?"&":"?";s.src=this.src+o+"ver="+Date.now()}},window.PostIframe=e}();